{% extends "auctions/layout.html" %}

{% block body %}
    <h2>Your Watchlist</h2>
    
        {% if watchlist_items %}
        <div class="card-deck row row-cols-1 row-cols-md-5 g-4">
            {% for item in watchlist_items %}
                <div class="col">
                    <div class="card h-100" >
                        <img class="card-img-top" src="{{item.watchlist_listing.listing_photo}}" alt="{{listing.listing_name}} photo" style="height: 200px;">
                        <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{item.watchlist_listing.listing_name}}</h5>
                        <p class="card-text">{{item.watchlist_listing.listing_description}}</p>
                        <p class="card-text">Category: {{item.watchlist_listing.listing_category}}</p>
                        <div class="mt-auto">
                            <p class="card-text">Starting Price: {{item.watchlist_listing.listing_starting}}$</p>
                            <a href="{% url 'viewlisting' auction_id=item.watchlist_listing.id %}" class="btn btn-lg btn-block btn-primary">View Listing</a>
                        </div>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted">Listed By: {{item.watchlist_listing.listing_maker.username}}</small>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
            
        {% else %}
        <h3>Nothing in watchlist.</h3>  
        {% endif %}      

{% endblock %}